---
title: "JSP의 이해 및 기초"
date: 2025-06-11 17:09:47 +09:00
categories: [jsp]
lang: ko
locale: ko
words_per_minute: 30

---

## JSP의 이해 및 기초: 동적 웹 페이지 구현 메커니즘

본 포스팅에서는 웹 개발의 핵심 기술 중 하나인 **JSP(Java Server Pages)**에 대해 다룹니다. 동적 웹 페이지의 개념과 JSP의 필요성, 서블릿과의 관계, 그리고 JSP 파일의 기본 구조 및 주요 요소를 분석하고자 합니다.

---

### 🌟 JSP 개요 및 동적 웹 페이지의 이해

JSP는 **동적 웹 페이지 생성을 위한 Java 기반의 서버측 웹 프로그래밍 기술**입니다. '동적'이라는 개념은 웹 페이지의 콘텐츠가 요청 시점에 따라 가변적으로 생성됨을 의미해요.

* **정적 웹 페이지**: `.html`, `.css`, `.js` 파일 또는 이미지와 같이 **서버에 저장된 형태 그대로 클라이언트 브라우저에 전송되어 출력**되는 페이지를 지칭합니다. 모든 요청에 대해 동일한 콘텐츠를 제공하며, 콘텐츠의 실시간 변경은 불가해요. 이는 인쇄된 매체와 유사한 특성을 가집니다.

* **동적 웹 페이지**: 동일한 URL로의 접속에도 불구하고 **요청 시마다 콘텐츠가 변경될 수 있는 페이지**를 의미합니다. 서버는 클라이언트 요청을 수신하여 실시간으로 데이터를 처리하고, 그 결과에 기반하여 새로운 HTML 문서를 동적으로 생성하여 브라우저에 전송합니다. 예를 들어, 사용자 로그인 시 개인화된 정보(예: 사용자 이름, 주문 내역)가 표시되는 '마이페이지'는 동적 웹 페이지의 전형적인 사례입니다. 은행 잔고 조회, 실시간 뉴스 피드, 전자상거래 장바구니 등은 모두 동적 페이지의 구현 사례에 해당해요.

JSP는 이와 같이 **클라이언트의 요청에 따라 내용이 동적으로 생성되는 웹 페이지를 Java 언어를 활용하여 서버에서 처리하고 브라우저로 전송하는 기능**을 수행합니다.

---

### 💡 서블릿(Servlet)과 JSP의 역할 분담

JSP는 서블릿과 함께 동적 웹 페이지를 생성하는 Java 기반 기술이에요. 이 두 기술은 상호 보완적인 관계를 가집니다.

#### **서블릿 (Servlet)**

서블릿은 "웹 환경에서 실행 가능한 Java 클래스"로 정의됩니다. 순수한 **Java 코드**로 구현되며, `HttpServlet` 클래스를 상속받아 웹 요청 처리 및 응답 생성 등 핵심 기능을 수행해요.

그러나 서블릿을 사용하여 HTML 페이지를 직접 생성하는 것은 비효율적입니다. HTML 태그를 `out.println()` 등의 Java 코드로 개별적으로 생성하고 조합해야 하므로, 코드의 가독성이 저하되고 HTML 구조 파악이 어렵다는 단점이 있어요. 이는 프로그래밍 작업의 복잡성을 증가시키는 요인으로 작용합니다.

#### **JSP (Java Server Pages)**

JSP는 서블릿의 이러한 비효율성을 개선하기 위해 개발되었습니다. JSP는 **HTML을 기본 구조로 하며, 필요에 따라 Java 코드를 삽입하는 형태**를 채택합니다. 이는 HTML 문서 내에 Java 코드 실행 지시자를 포함하는 방식으로, 개발의 직관성과 편의성을 크게 향상시킵니다.

| 구분                  | 서블릿                                                              | JSP                                                                    |
| :---------------- | :------------------------------------------------------------------ | :--------------------------------------------------------------------- |
| **HTML 생성 방식** | Java 코드 내에서 `out.println()` 등을 활용하여 전체 HTML 페이지 구성 (생산성 저하) | HTML 코드 내 `<% ... %>` 형태의 스크립트 요소를 통해 Java 코드 삽입 (직관성 및 편의성 증대) |
| **변수 초기화** | 변수 선언 및 초기화 로직을 직접 구현해야 합니다                     | 웹 컨테이너에서 제공하는 `request`, `response` 등의 **내장 객체**를 즉시 활용 가능해요 |
| **주요 용도** | 클라이언트 요청 처리 및 비즈니스 **로직 구현 (컨트롤러 역할)** | 처리 결과의 시각적 표현 및 사용자 인터페이스 제공 **(뷰(View/화면) 역할)** |

실제 웹 애플리케이션 개발에서는 서블릿과 JSP를 상호 연동하여 사용합니다. 서블릿이 클라이언트 요청을 수신하고 핵심 비즈니스 로직을 처리하며, JSP는 그 처리 결과를 사용자에게 시각적으로 제공하는 역할을 수행해요. 이는 일반적으로 MVC(Model-View-Controller) 디자인 패턴에서 각자의 역할을 분담하는 형태로 구현됩니다.

---

### JSP 파일의 기본 구조

JSP 파일은 외형적으로 HTML 파일과 유사하지만, Java 코드를 실행시키는 특수 '요소'들을 포함합니다.

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%> <%-- 💡 1. 지시어: JSP 페이지의 설정 정보 --%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>처음 만들어보는 JSP</title>
</head>
<body>
    <%! // 💡 2-1. 스크립트 요소 - 선언부 (멤버 변수/메서드 선언)
        String str1 = "JSP";
        public String getGreeting() {
            return "안녕하세요!";
        }
    %>

    <h1><%= getGreeting() %>, <%= str1 %>!</h1> <%-- 💡 2-2. 스크립트 요소 - 표현식 (값 출력) --%>
    <p>
        <% // 💡 2-3. 스크립트 요소 - 스크립트릿 (자바 코드 로직)
            String str2 = "반갑습니다.";
            out.println(str2 + " 웹 페이지입니다. 함께 공부해요!");
        %>
    </p>
</body>
</html>
```

주요 JSP 요소를 보다 상세하게 설명해 드리겠습니다.

### 1. JSP 지시어 (Directives): JSP 페이지의 메타데이터 정의

지시어는 JSP 페이지가 서블릿 코드로 변환될 때 필요한 메타데이터를 JSP 컨테이너에 제공하는 역할을 합니다. JSP 페이지의 전반적인 설정 정보를 정의하는 데 사용되며, '디렉티브(Directive)'라고도 불립니다.

* **형식**: `<%@ 지시어이름 속성="값" 속성2="값2" ... %>`

* **주요 지시어 종류:**

    * **`page` 지시어**: 현재 JSP 페이지의 전반적인 속성(스크립팅 언어, 콘텐츠 유형, 문자 인코딩, import 등)을 정의합니다. 가장 흔하게 사용되는 지시어입니다.
        ```jsp
        <%@ page language="java" contentType="text/html; charset=UTF-8"
            pageEncoding="UTF-8" import="java.util.List, java.io.IOException" %>
        ```
        * `language`: JSP 페이지에서 사용할 스크립팅 언어 (기본값: `java`)
        * `contentType`: HTTP 응답의 MIME 타입과 문자 인코딩 (예: `text/html; charset=UTF-8`)
        * `pageEncoding`: JSP 파일 자체의 문자 인코딩 방식 (소스 파일 저장 인코딩과 동일하게 설정)
        * `import`: Java의 `import` 문과 동일하게 외부 패키지 또는 클래스 선언
        * `session`: 세션 사용 여부 (기본값: `true`)
        * `errorPage`: 예외 발생 시 이동할 에러 페이지 경로
        * `isErrorPage`: 현재 페이지가 에러 페이지인지 여부 (`true`일 경우 `exception` 내장 객체 사용 가능)
        * `trimDirectiveWhitespaces="true"`: JSP 코드 작성 시 지시어들이 남기는 불필요한 빈 줄이나 공백을 자동으로 제거합니다. 생성되는 HTML 소스 코드의 가독성 향상 및 파일 크기 감소에 기여합니다.
            ```jsp
            <%@ page language="java" contentType="text/html; charset=UTF-8"
                pageEncoding="UTF-8" trimDirectiveWhitespaces="true"%>
            ```

    * **`include` 지시어**: 외부 파일을 현재 JSP 파일 내부에 **정적으로** 삽입할 때 사용합니다. 페이지의 공통 컴포넌트(헤더, 푸터 등)를 재활용하는 데 유용하며, **컴파일 시점**에 파일의 내용이 병합됩니다.
        ```jsp
        <%@ include file="common/header.jsp" %>
        ```
        * `file`: 포함할 파일의 상대 경로
        * **장점**: 코드의 재사용성을 극대화하고, 유지보수 효율성을 크게 향상시킵니다.

    * **`taglib` 지시어**: JSTL(JSP Standard Tag Library)과 같은 외부 라이브러리 태그나 EL(Expression Language)에서 Java 클래스 메서드 호출을 선언하는 데 사용됩니다.
        ```jsp
        <%@ taglib prefix="c" uri="[http://java.sun.com/jsp/jstl/core](http://java.sun.com/jsp/jstl/core)" %>
        ```
        * `prefix`: 태그 라이브러리 접두어 (예: `c` for JSTL core)
        * `uri`: 태그 라이브러리의 URI (식별자)

---

### 2. JSP 스크립트 요소 (Scripting Elements): HTML 내부에 통합된 자바 코드 블록

JSP의 핵심 문법으로서, HTML 문서 내부에 자바 코드를 직접 삽입하여 동적인 기능을 구현하게 해주는 영역입니다. 크게 세 가지 종류로 구성됩니다.

* **선언부 (Declaration)**
    * **형식**: `<%! Java 코드 %>`
    * **역할**: 해당 JSP 페이지(변환된 서블릿 클래스)의 **멤버 변수(필드)**나 **메서드**를 정의하는 영역입니다. JSP 페이지 전체에서 공유하여 사용할 수 있는 변수나 메서드를 정의할 때 사용합니다.
    * **특징**: 서블릿으로 변환 시 `_jspService()` 메서드 **바깥쪽**에 위치하므로, 선언된 요소들은 전역적으로 접근 가능합니다.

    -----

    **💡 _jspService() 메서드란?**
    JSP(JavaServer Pages) 파일은 웹 서버에서 바로 실행되는 것이 아니라, WAS(Web Application Server, 예를 들어 Tomcat)에 의해 자바 서블릿(Servlet) 파일로 변환된 후 컴파일되어 실행됩니다. 이때, JSP 페이지 안에 작성된 대부분의 HTML 코드와 스크립트릿(스크립트 <% %> 태그 안에 작성된 자바 코드)은 변환된 서블릿의 _jspService() 메서드 안에 들어가게 됩니다.

    -----

    **간단히 비유하자면:**
    JSP 페이지를 식당의 메뉴판이라고 생각해 보세요. 손님(클라이언트)이 메뉴판을 보고 음식을 주문(요청)하면, 주방장(WAS의 JSP 컨테이너)이 메뉴판(JSP)을 보고 레시피(변환된 서블릿의 _jspService() 메서드)에 따라 요리(요청 처리)를 해서 손님에게 내놓는(응답) 것과 비슷합니다.
    
    -----

    _jspService() 메서드는 이렇게 웹 요청이 올 때마다 실제로 "요리"를 하는 레시피의 핵심 부분인 거죠.

    -----
    
* **스크립트릿 (Scriptlet)**
    * **형식**: `<% Java 코드 %>`
    * **역할**: 클라이언트의 **요청이 발생할 때마다 실행되어야 할 자바 코드 로직**을 작성하는 영역입니다. 반복문, 조건문, 지역 변수 선언 및 연산 등 대부분의 자바 코드가 이 영역에 작성됩니다.
    * **특징**: 서블릿으로 변환될 때 `_jspService()` 메서드 **안쪽**에 직접 포함됩니다. 따라서 이곳에 선언된 변수는 해당 스크립트릿 또는 `_jspService()` 메서드 내에서만 유효한 **지역 변수**입니다.

* **표현식 (Expression)**
    * **형식**: `<%= 값 %>`
    * **역할**: 실행 결과로 **하나의 값** (변수, 수식, 상수, 반환 값이 있는 메서드 호출 결과 등)을 **웹 브라우저 화면에 직접 출력**하고자 할 때 사용됩니다. `out.print()` 또는 `out.println()`을 사용하는 것과 동일한 효과를 냅니다.
    * **특징**: 세미콜론(;)을 사용하지 않습니다.

**스크립트 요소 활용 예시 (종합)**

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>JSP 스크립트 요소 총집합</title>
</head>
<body>
    <%! // <%! ... %> 선언부: 멤버 변수와 메서드 선언
        private int totalAccess = 0; // 이 JSP 페이지의 총 접근 횟수 (멤버 변수)

        public String getWebsiteName() { // 웹사이트 이름 반환 메서드 (멤버 메서드)
            return "내 멋진 웹사이트";
        }
    %>

    <% // <% ... %> 스크립트릿: 요청마다 실행되는 로직
        totalAccess++; // 페이지 접근 시마다 totalAccess를 1 증가시킵니다.
        String userName = "방문객";
        // 파라미터가 있다면 사용자 이름으로 설정합니다.
        if (request.getParameter("name") != null && !request.getParameter("name").isEmpty()) {
            userName = request.getParameter("name");
        }
    %>

    <h1><%= getWebsiteName() %>에 오신 것을 환영합니다!</h1> <%-- <%= ... %> 표현식: 메서드 결과 출력 --%>
    <p><%= userName %>님, 안녕하세요!</p> <%-- 표현식: 변수 값 출력 --%>
    <p>이 페이지는 지금까지 <%= totalAccess %>번 방문되었습니다.</p> <%-- 표현식: 멤버 변수 출력 --%>
    <p>오늘의 행운의 숫자: <%= Math.random() * 100 %></p> <%-- 표현식: 수식 결과 출력 --%>

    <% // 스크립트릿: 조건문 예시
        if (totalAccess < 5) {
    %>
        <p>아직 새로운 방문객이 많아요!</p>
    <%
        } else {
    %>
        <p>꾸준히 찾아주셔서 감사합니다!</p>
    <%
        }
    %>
</body>
</html>
```

---

### 3. JSP 주석 (Comments)

JSP 파일 내에서 코드에 대한 설명을 추가하거나 특정 코드를 임시로 비활성화할 때 사용됩니다.

* **HTML 주석 (클라이언트 주석)**
    * **형식**: ``
    * **기능**: 웹 브라우저의 '소스 보기'에서 **확인 가능한 주석**입니다. HTML 코드가 클라이언트(브라우저)로 전송될 때 주석 내용도 함께 전송됩니다.

* **JSP 주석 (서버 주석)**
    * **형식**: `<%-- 주석 내용 --%>`
    * **기능**: JSP가 서블릿으로 변환될 때 **제외되는 주석**입니다. 따라서 클라이언트(브라우저)에게는 전송되지 않으므로, 웹 브라우저의 '소스 보기'에서는 확인할 수 없습니다. 보안상 민감한 정보나 개발자 내부 주석을 작성할 때 유용합니다.

---


### 📝 마치며

본 문서에서는 **JSP**의 핵심 개념부터 시작하여, **동적 웹 페이지**의 작동 원리, **서블릿**과의 역할 분담, 그리고 **JSP 파일의 기본 구조와 주요 요소(지시어, 스크립트 요소, 주석)**를 상세히 살펴보았습니다. JSP가 HTML에 자바 코드를 효율적으로 통합하여 동적인 콘텐츠를 생성하는 메커니즘을 이해하는 데 중점을 두었어요.

특히, JSP **지시어(Directive)**의 다양한 속성들이 JSP 페이지의 동작을 어떻게 제어하는지, 그리고 **스크립트 요소**를 통해 실제 자바 코드를 HTML 내부에 어떻게 효과적으로 포함하는지를 알아보았습니다. 이러한 기본 지식은 JSP 기반 웹 애플리케이션 개발의 견고한 토대가 될 것입니다.
