---
title: "JSP - 용어 정리(2)"
date: 2025-06-11 17:09:47 +09:00
categories: [jsp]
lang: ko
locale: ko
words_per_minute: 30

---

## JSP 심화 분석 1부: 동적 웹 페이지 구현 메커니즘

본 문서에서는 웹 개발의 핵심 기술 중 하나인 **JSP(Java Server Pages)**에 대해 다룹니다. 동적 웹 페이지의 개념과 JSP의 필요성, 서블릿과의 관계, 그리고 JSP 파일의 기본 구조 및 주요 요소를 전문적인 관점에서 분석하고자 합니다.

---

### 🌟 JSP 개요 및 동적 웹 페이지의 이해

JSP는 **동적 웹 페이지 생성을 위한 Java 기반의 서버측 웹 프로그래밍 기술**입니다. '동적'이라는 개념은 웹 페이지의 콘텐츠가 요청 시점에 따라 가변적으로 생성됨을 의미해요.

* **정적 웹 페이지**: `.html`, `.css`, `.js` 파일 또는 이미지와 같이 **서버에 저장된 형태 그대로 클라이언트 브라우저에 전송되어 출력**되는 페이지를 지칭합니다. 모든 요청에 대해 동일한 콘텐츠를 제공하며, 콘텐츠의 실시간 변경은 불가해요. 이는 인쇄된 매체와 유사한 특성을 가집니다.

* **동적 웹 페이지**: 동일한 URL로의 접속에도 불구하고 **요청 시마다 콘텐츠가 변경될 수 있는 페이지**를 의미합니다. 서버는 클라이언트 요청을 수신하여 실시간으로 데이터를 처리하고, 그 결과에 기반하여 새로운 HTML 문서를 동적으로 생성하여 브라우저에 전송합니다. 예를 들어, 사용자 로그인 시 개인화된 정보(예: 사용자 이름, 주문 내역)가 표시되는 '마이페이지'는 동적 웹 페이지의 전형적인 사례입니다. 은행 잔고 조회, 실시간 뉴스 피드, 전자상거래 장바구니 등은 모두 동적 페이지의 구현 사례에 해당해요.

JSP는 이와 같이 **클라이언트의 요청에 따라 내용이 동적으로 생성되는 웹 페이지를 Java 언어를 활용하여 서버에서 처리하고 브라우저로 전송하는 기능**을 수행합니다.

---

### 💡 서블릿(Servlet)과 JSP의 역할 분담

JSP는 서블릿과 함께 동적 웹 페이지를 생성하는 Java 기반 기술이에요. 이 두 기술은 상호 보완적인 관계를 가집니다.

#### **서블릿 (Servlet)**

서블릿은 "웹 환경에서 실행 가능한 Java 클래스"로 정의됩니다. 순수한 **Java 코드**로 구현되며, `HttpServlet` 클래스를 상속받아 웹 요청 처리 및 응답 생성 등 핵심 기능을 수행해요.

그러나 서블릿을 사용하여 HTML 페이지를 직접 생성하는 것은 비효율적입니다. HTML 태그를 `out.println()` 등의 Java 코드로 개별적으로 생성하고 조합해야 하므로, 코드의 가독성이 저하되고 HTML 구조 파악이 어렵다는 단점이 있어요. 이는 프로그래밍 작업의 복잡성을 증가시키는 요인으로 작용합니다.

#### **JSP (Java Server Pages)**

JSP는 서블릿의 이러한 비효율성을 개선하기 위해 개발되었습니다. JSP는 **HTML을 기본 구조로 하며, 필요에 따라 Java 코드를 삽입하는 형태**를 채택합니다. 이는 HTML 문서 내에 Java 코드 실행 지시자를 포함하는 방식으로, 개발의 직관성과 편의성을 크게 향상시킵니다.

| 구분              | 서블릿                                                              | JSP                                                                    |
| :---------------- | :------------------------------------------------------------------ | :--------------------------------------------------------------------- |
| **HTML 생성 방식** | Java 코드 내에서 `out.println()` 등을 활용하여 전체 HTML 페이지 구성 (생산성 저하) | HTML 코드 내 `<% ... %>` 형태의 스크립트 요소를 통해 Java 코드 삽입 (직관성 및 편의성 증대) |
| **변수 초기화** | 변수 선언 및 초기화 로직을 직접 구현해야 합니다                     | 웹 컨테이너에서 제공하는 `request`, `response` 등의 **내장 객체**를 즉시 활용 가능해요 |
| **주요 용도** | 클라이언트 요청 처리 및 비즈니스 **로직 구현 (컨트롤러 역할)** | 처리 결과의 시각적 표현 및 사용자 인터페이스 제공 **(뷰(View/화면) 역할)** |

실제 웹 애플리케이션 개발에서는 서블릿과 JSP를 상호 연동하여 사용합니다. 서블릿이 클라이언트 요청을 수신하고 핵심 비즈니스 로직을 처리하며, JSP는 그 처리 결과를 사용자에게 시각적으로 제공하는 역할을 수행해요. 이는 일반적으로 MVC(Model-View-Controller) 디자인 패턴에서 각자의 역할을 분담하는 형태로 구현됩니다.

---

### JSP 파일의 기본 구조

JSP 파일은 외형적으로 HTML 파일과 유사하지만, Java 코드를 실행시키는 특수 '요소'들을 포함합니다.

```jsp
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%> <%-- 💡 1. 지시어: JSP 페이지의 설정 정보 --%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>처음 만들어보는 JSP</title>
</head>
<body>
    <%! // 💡 2-1. 스크립트 요소 - 선언부 (멤버 변수/메서드 선언)
        String str1 = "JSP";
        public String getGreeting() {
            return "안녕하세요!";
        }
    %>

    <h1><%= getGreeting() %>, <%= str1 %>!</h1> <%-- 💡 2-2. 스크립트 요소 - 표현식 (값 출력) --%>
    <p>
        <% // 💡 2-3. 스크립트 요소 - 스크립트릿 (자바 코드 로직)
            String str2 = "반갑습니다.";
            out.println(str2 + " 웹 페이지입니다. 함께 공부해요!");
        %>
    </p>
</body>
</html>
```

상기 코드 예시에서 주요 JSP 요소는 세 가지 유형으로 분류됩니다.

#### 1. 지시어 (`<%@ ... %>`)

* **기능**: JSP 페이지가 서블릿 코드로 변환될 때 필요한 메타데이터를 JSP 엔진(Web Application Server 내부)에 제공합니다. 이는 JSP 페이지의 '설정' 기능을 수행하며, '디렉티브(Directive)'라고도 불려요.
* **유형**:
    * **`page`**: 현재 JSP 페이지의 전반적인 속성(예: 스크립팅 언어(`language`), 콘텐츠 유형(`contentType`), 문자 인코딩(`pageEncoding`), 필요한 Java 클래스(`import`))을 정의하는 가장 일반적으로 사용되는 지시어입니다.
    * **`include`**: 외부 파일을 현재 JSP 파일 내부에 정적으로 삽입할 때 사용됩니다. 웹 페이지의 공통 컴포넌트(예: 헤더, 푸터) 재활용에 유용해요.
    * **`taglib`**: EL(Expression Language)에서 Java 클래스 메서드 호출 또는 JSTL(JSP Standard Tag Library)과 같은 외부 라이브러리 태그의 사용을 선언하는 데 활용됩니다.

#### 2. 스크립트 요소 (Java 코드 삽입)

JSP의 핵심 기능으로, HTML 코드 내에 Java 코드를 삽입하는 문법을 제공합니다.

* **선언부 (`<%! ... %>`)**:
    * **기능**: 해당 JSP 페이지(변환된 서블릿)에서 전역적으로 공유 및 활용될 **멤버 변수** 또는 **메서드**를 선언하는 영역입니다.
    * **특징**: 서블릿으로 변환 시 `_jspService()` 메서드 **외부**에 위치하며, 따라서 선언된 변수 및 메서드는 해당 JSP 페이지(서블릿)의 전역적인 요소로 동작합니다.

* **표현식 (`<%= ... %>`)**:
    * **기능**: 변수 값 또는 메서드 호출 결과와 같이 **단일 값을 웹 브라우저 화면에 직접 출력**하는 데 사용됩니다.
    * **특징**: Java의 `System.out.println()` 또는 `out.print()`와 동일한 출력을 생성하며, 값을 직접적으로 '표현(expression)'합니다.

* **스크립트릿 (`<% ... %>`)**:
    * **기능**: 클라이언트 요청 시 JSP 페이지 내에서 실행될 **Java 코드 로직**을 작성하는 영역입니다. 반복문, 조건문, 변수 선언 및 연산 등 대부분의 Java 코드가 이 영역에 작성됩니다.
    * **특징**: 서블릿으로 변환 시 `_jspService()` 메서드 **내부**에 포함되며, 이곳에 선언된 변수는 해당 스크립트릿 내부에서만 유효한 **지역 변수**로 간주됩니다. (스크립트릿 내부에서는 새로운 메서드를 선언할 수 없으며, 선언부에 정의된 메서드만 호출 가능해요.)

---

### `page` 지시어의 주요 속성 상세 분석

가장 빈번하게 사용되는 `page` 지시어의 핵심 속성들은 다음과 같습니다.

* **`language="java"` (기본값: `java`)**:
    * 해당 JSP 페이지에서 사용할 스크립팅 언어를 지정합니다. 기본값은 `java`이며, 일반적으로 변경할 필요는 없어요.

* **`contentType="text/html; charset=UTF-8"`**:
    * 이 페이지가 생성할 HTTP 응답의 MIME 타입(Media Type)과 문자 인코딩을 정의합니다. 대부분의 웹 페이지는 `text/html` 타입을 사용하며, 한글(한국어) 깨짐 방지를 위해 `charset=UTF-8` 설정은 필수적이에요.

* **`pageEncoding="UTF-8"`**:
    * JSP 소스 코드 파일 자체의 문자 인코딩 방식을 지정합니다. 이 역시 한글(한국어) 깨짐 방지를 위해 `UTF-8`로 설정하는 것이 권장됩니다.

* **`import="java.util.List, java.io.IOException"`**:
    * JSP 페이지 내에서 외부 Java 패키지 또는 클래스를 사용하기 위해 Java의 `import` 문과 동일하게 선언합니다. 필요한 클래스가 있다면 이 속성에 지정해요.

* **`session="true"` (기본값: `true`)**:
    * 해당 JSP 페이지에서 웹 세션(`session` 내장 객체)의 사용 여부를 지정합니다. 일반적으로 `true`로 설정하여 사용해요.

* **`errorPage="에러페이지경로.jsp"`**:
    * 이 JSP 페이지에서 Java 코드 실행 중 **예외(Exception) 발생 시, 사용자에게 표시할 에러 페이지의 상대 또는 절대 경로**를 지정합니다.

* **`isErrorPage="false"` (기본값: `false`)**:
    * 이 JSP 페이지가 **다른 페이지에서 발생한 예외를 처리하는 전용 페이지인지 여부**를 지정합니다. `true`로 설정하면 `exception`이라는 내장 객체를 통해 발생한 예외 정보에 접근할 수 있어요.

---

### 🚨 예외 처리 메커니즘 (`errorPage`, `isErrorPage` 속성 활용)

`errorPage` 및 `isErrorPage` 속성은 사용자 경험 향상 및 보안 측면에서 중요한 역할을 수행합니다.

JSP 페이지 실행 중 예외가 발생했을 때 적절한 처리가 이루어지지 않으면, 일반적으로 기술적인 세부 정보가 포함된 '500 Internal Server Error' 페이지가 노출됩니다. 이는 사용자에게 혼란을 주며 웹사이트의 신뢰도를 저하시킬 수 있고, 잠재적으로 코드 정보가 노출되어 보안 취약점을 야기할 수 있어요.

이러한 상황을 방지하기 위한 주요 해결책은 두 가지입니다.

1.  **`try-catch` 블록을 활용한 코드 내 직접 처리**:
    * Java 개발 표준에 따라, 예외 발생 가능성이 있는 코드 영역을 `try { ... } catch (Exception e) { ... }` 블록으로 감싸서 예외를 포착하고 직접 처리하는 방식입니다.
    * 특정 코드 블록(예: 사용자 입력 값의 숫자 변환 오류, 존재하지 않는 파일 접근 시도)에서만 예외가 발생할 것으로 예상되는 경우에 유용하며, 해당 페이지 내에서 즉각적인 예외 해결이 필요할 때 적용됩니다.

2.  **`page` 지시어의 `errorPage`, `isErrorPage` 속성 활용**:
    * 이 방법은 예외 발생 시 사용자를 **사전 정의된 에러 페이지로 리디렉션하여 예외 정보를 시각적으로 제공하는 방식**입니다.
    * **절차:**
        1.  **에러 처리 페이지 생성**: `errorPage.jsp`와 같은 파일을 생성하고, 해당 페이지에 `isErrorPage="true"` 지시어를 선언합니다. 이 페이지에서는 `exception` 내장 객체를 통해 발생한 예외의 유형 및 메시지 등 세부 정보에 접근할 수 있어요.
        2.  **예외 발생 가능 페이지에 설정**: `mainPage.jsp`와 같이 예외가 발생할 수 있는 페이지의 `page` 지시어에 `errorPage="errorPage.jsp"`와 같이 에러 페이지의 경로를 지정합니다.
    * 이러한 접근 방식을 통해 `mainPage.jsp`에서 예외가 발생하더라도, 사용자에게는 기술적 오류 페이지 대신 미리 디자인된 `errorPage.jsp`가 제공되어 전문적이고 사용자 친화적인 경험을 제공하며, 웹사이트의 신뢰성을 향상시킬 수 있습니다.

---

### 📝 결론

본 문서에서는 JSP의 기본 개념, 동적 웹 페이지와의 관계, 서블릿과의 차이점, JSP 파일의 구조 및 핵심 지시어들을 상세히 분석했습니다. 특히 `page` 지시어의 다양한 속성 및 예외 처리 메커니즘은 실제 웹 개발 환경에서 매우 중요한 요소이므로, 이에 대한 이해는 필수적이에요.

---