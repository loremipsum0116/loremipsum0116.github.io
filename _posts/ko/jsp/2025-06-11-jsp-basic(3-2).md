---
title: "JSP의 이해 및 기초 (2)"
date: 2025-06-11 17:25:00 +09:00
categories: [jsp]
lang: ko
locale: ko
words_per_minute: 30
---

---

# JSP 핵심 요소: 내장 객체, EL, 에러 처리, 서블릿과의 관계

JSP(Java Server Pages)는 동적 웹 페이지를 만들기 위한 자바 기반 기술이에요. 이 문서는 JSP 페이지에서 개발자의 생산성을 높이고 웹 애플리케이션을 효율적으로 관리하기 위한 핵심 요소들을 심층적으로 다룹니다. JSP의 특별한 '만능 도구'인 **내장 객체(Implicit Objects)**부터, 간결한 데이터 표현을 위한 EL(Expression Language), 안정적인 서비스 제공을 위한 에러 처리 기법, 그리고 서블릿과의 동작 방식과 특징까지 상세히 살펴보겠습니다.


---

## 🌟 4. 9가지 JSP 내장 객체

JSP 페이지를 만들 때, 개발자의 편의를 위해 미리 만들어져 있는 특별한 도구들이 있어요. 이걸 **내장 객체(Implicit Objects)**라고 부르는데, 마치 요리사가 칼이나 국자 같은 기본적인 도구들을 따로 챙기지 않고도 부엌에 가면 바로 사용할 수 있는 것과 같죠. 이 내장 객체들은 JSP 페이지 내에서 따로 선언할 필요 없이 바로 사용할 수 있습니다.

---

### request: `HttpServletRequest` 객체

**클라이언트(사용자)의 요청 정보**를 담고 있는 객체예요. 웹 브라우저에서 서버로 어떤 정보를 보냈는지 궁금할 때 `request` 객체를 사용합니다. 예를 들어, 사용자가 입력한 값(아이디, 비밀번호 등), 요청한 페이지 주소, 웹 브라우저 정보, 쿠키 등 **클라이언트가 보낸 모든 정보**를 이 `request` 객체를 통해 얻을 수 있습니다.

**예시**: 사용자가 `http://localhost:8080/myApp/hello.jsp?name=John`으로 접속했을 때, `name` 파라미터 값을 읽어옵니다.

```java
<%
    // 'name'이라는 이름으로 넘어온 파라미터(값)를 읽어와 userName 변수에 저장합니다.
    String userName = request.getParameter("name");
%>
<!DOCTYPE html>
<html>
<head>
    <title>Request Example</title>
</head>
<body>
    <h1>Hello, <%= userName %>!</h1> <%-- 사용자 이름 출력 --%>
    <p>Your IP Address: <%= request.getRemoteAddr() %></p> <%-- 클라이언트의 IP 주소 출력 --%>
</body>
</html>
```

---

### response: `HttpServletResponse` 객체

**서버가 클라이언트(웹 브라우저)에게 보낼 응답 정보**를 다루는 객체예요. 서버에서 사용자에게 웹 페이지를 보내주거나, 다른 페이지로 이동시키거나, 특정 정보를 설정(예: 헤더 설정)할 때 `response` 객체를 사용합니다. 여러분이 웹 사이트에 접속했을 때 눈에 보이는 모든 결과물은 이 `response` 객체를 통해 전달된 것이라고 생각하면 됩니다.

**예시**: 로그인 성공 여부에 따라 사용자를 다른 페이지로 즉시 이동(리다이렉트)시킵니다.

```java
<%
    // 실제로는 로그인 처리 로직을 통해 loginSuccess 값이 결정됩니다.
    boolean loginSuccess = true; 
    
    if (loginSuccess) {
        // 로그인에 성공하면 'main.jsp' 페이지로 사용자를 이동시킵니다.
        // response.sendRedirect()는 브라우저에게 "이 주소로 다시 요청해!"라고 명령하는 것과 같아요.
        response.sendRedirect("main.jsp");
    } else {
        // 로그인 실패 시 현재 페이지에 간단한 실패 메시지를 출력합니다.
%>
        <!DOCTYPE html>
        <html>
        <head>
            <title>Login Failed</title>
        </head>
        <body>
            <p>로그인 실패!</p>
        </body>
        </html>
<%
    }
%>
```

---

### pageContext: `PageContext` 객체

`pageContext`는 현재 JSP 페이지에 대한 **모든 정보를 한눈에 볼 수 있는 관리자 역할**을 하는 객체예요. JSP 페이지에서 사용할 수 있는 `request`, `response`, `session` 등 **다른 내장 객체들에 접근**할 수 있게 해주고, 특정 범위(스코프)에 데이터를 저장하고 조회하는 데 사용됩니다. 마치 웹 페이지 안에서 모든 내장 객체를 연결해주는 허브(Hub) 같은 존재라고 할 수 있죠.

**예시**: `request` 스코프(요청이 끝날 때까지 유효한 범위)에 속성을 저장하고 꺼냅니다.

```java
<%
    // "message"라는 이름으로 "안녕하세요, pageContext!"라는 값을 request 스코프에 저장합니다.
    pageContext.setAttribute("message", "안녕하세요, pageContext!");
    
    // request 스코프에 저장된 "message" 값을 다시 꺼내와 retrievedMessage 변수에 저장합니다.
    String retrievedMessage = (String) pageContext.getAttribute("message", PageContext.REQUEST_SCOPE);
%>
<!DOCTYPE html>
<html>
<head>
    <title>PageContext Example</title>
</head>
<body>
    <p><%= retrievedMessage %></p> <%-- 저장했던 메시지 출력 --%>
</body>
</html>
```

---

### session: `HttpSession` 객체

**클라이언트(사용자) 한 명 한 명의 상태 정보(세션)**를 관리하는 객체예요. 웹은 기본적으로 '무상태(Stateless)'인데, 이는 웹 페이지가 사용자 요청을 처리하고 나면 이전 상태를 잊어버린다는 의미예요. 하지만 웹 사이트에서 로그인을 유지하거나, 장바구니에 상품을 담는 것처럼 **사용자의 특정 활동을 기억해야 할 때** `session` 객체를 사용합니다. 각 사용자마다 고유한 세션이 부여되어 해당 사용자의 정보를 저장할 수 있죠.

**예시**: 사용자 로그인 정보를 세션에 저장하고 다른 페이지에서 그 정보를 사용합니다.

**login.jsp (로그인 처리 페이지)**

```java
<%
    String userId = request.getParameter("id"); // 사용자가 입력한 ID를 얻어옵니다.
    
    // 간단하게 "admin"이라는 ID로 로그인했다고 가정합니다.
    if (userId != null && userId.equals("admin")) { 
        // 로그인에 성공하면 "loggedInUser"라는 이름으로 사용자 ID를 세션에 저장합니다.
        // 이 정보는 사용자가 다른 페이지로 이동해도 계속 유지됩니다.
        session.setAttribute("loggedInUser", userId);
%>
        <p>로그인 성공! <a href="welcome.jsp">환영 페이지로 이동</a></p>
<%
    } else {
%>
        <p>로그인 실패!</p>
<%
    }
%>
```

**welcome.jsp (환영 페이지)**

```java
<%
    // 세션에 저장된 "loggedInUser" 정보를 꺼내와 user 변수에 저장합니다.
    String user = (String) session.getAttribute("loggedInUser");
%>
<!DOCTYPE html>
<html>
<head>
    <title>Welcome Page</title>
</head>
<body>
    <% if (user != null) { %>
        <h1><%= user %>님 환영합니다!</h1> <%-- 로그인된 사용자 이름 출력 --%>
    <% } else { %>
        <p>로그인하지 않으셨습니다.</p>
    <% } %>
</body>
</html>
```

---

### application: `ServletContext` 객체

**웹 애플리케이션 전체에서 공유되는 정보**를 저장하고 접근할 때 사용하는 객체예요. `session` 객체가 '사용자 한 명'을 위한 것이라면, `application` 객체는 **'웹 사이트 전체'**를 위한 정보 저장소라고 생각하면 됩니다. 모든 사용자가 공통적으로 접근해야 하는 데이터나, 웹 애플리케이션이 시작될 때 한 번만 로드하여 계속 사용해야 하는 설정 정보 등을 저장하기에 적합합니다.

**예시**: 웹 애플리케이션 전체의 방문자 수를 기록하고 보여줍니다.

```java
<%
    // "visitCount"라는 이름으로 저장된 현재 방문자 수를 가져옵니다.
    // 처음 방문 시에는 null일 수 있으므로 0으로 초기화합니다.
    Integer visitCount = (Integer) application.getAttribute("visitCount");
    if (visitCount == null) {
        visitCount = 0;
    }
    
    visitCount++; // 방문자 수를 1 증가시킵니다.
    
    // 증가된 방문자 수를 다시 application 객체에 저장합니다.
    // 이 값은 모든 사용자가 공유하며, 웹 애플리케이션이 종료될 때까지 유지됩니다.
    application.setAttribute("visitCount", visitCount);
%>
<!DOCTYPE html>
<html>
<head>
    <title>Application Example</title>
</head>
<body>
    <p>현재까지 이 페이지 방문자 수: <%= visitCount %>명</p>
</body>
</html>
```

---

### out: `JspWriter` 객체

**웹 브라우저에 HTML 내용을 직접 출력**할 때 사용하는 객체예요. JSP 페이지에 `<%= ... %>` (표현식)를 사용하면 자동으로 `out.print()`를 통해 내용이 출력됩니다. 하지만 자바 코드 안에서 조건에 따라 다른 HTML 내용을 출력하거나, 특정 문자열을 세밀하게 제어하며 출력하고 싶을 때 `out` 객체의 메서드를 직접 사용할 수 있습니다.

**예시**: `out.println()`을 사용하여 HTML 내용을 직접 출력합니다.

```java
<%
    // out.println() 메서드를 사용하여 한 줄씩 HTML 코드를 브라우저에 출력합니다.
    out.println("<!DOCTYPE html>");
    out.println("<html>");
    out.println("<head>");
    out.println("<title>Out Example</title>");
    out.println("</head>");
    out.println("<body>");
    out.println("<h1>out 객체를 사용하여 출력된 내용입니다.</h1>");
    out.println("</body>");
    out.println("</html>");
%>
```

---

### config: `ServletConfig` 객체

**현재 JSP 페이지(서블릿)의 초기 설정 정보**를 얻을 때 사용하는 객체예요. 웹 애플리케이션을 배포할 때 `web.xml`이라는 설정 파일에 특정 서블릿(JSP도 내부적으로 서블릿으로 변환됨)에 대한 초기 파라미터(설정 값)를 지정할 수 있는데, 이 `config` 객체를 통해 그 값들을 읽어올 수 있습니다. 예를 들어, 데이터베이스 연결 정보나 관리자 이메일 주소처럼 JSP 페이지가 처음 실행될 때 필요한 설정 값들을 넣어둘 수 있죠.

**예시**: `web.xml`에 설정된 초기화 파라미터(`adminEmail`)를 JSP 페이지에서 읽어옵니다.

**web.xml 설정 예시**:

```xml
<servlet>
    <servlet-name>myJsp</servlet-name>
    <jsp-file>/WEB-INF/myPage.jsp</jsp-file>
    <init-param>
        <param-name>adminEmail</param-name>  <param-value>admin@example.com</param-value> </init-param>
</servlet>
<servlet-mapping>
    <servlet-name>myJsp</servlet-name>
    <url-pattern>/myPage.jsp</url-pattern>
</servlet-mapping>
```

**myPage.jsp (JSP 코드):**

```java
<%
    // config.getInitParameter() 메서드를 사용하여 "adminEmail"이라는 이름의 초기화 파라미터 값을 읽어옵니다.
    String adminEmail = config.getInitParameter("adminEmail");
%>
<!DOCTYPE html>
<html>
<head>
    <title>Config Example</title>
</head>
<body>
    <p>관리자 이메일: <%= adminEmail %></p>
</body>
</html>
```

---

### page: `Object` 객체

`page` 객체는 **현재 JSP 페이지 그 자체**를 가리키는 객체예요. 즉, 이 JSP 파일이 웹 컨테이너에서 서블릿으로 변환되어 실행될 때 생성되는 서블릿 인스턴스(객체)를 의미합니다. 하지만 실제로 개발할 때 `page` 객체를 직접적으로 사용하는 경우는 매우 드물어요. 대부분 `request`, `response` 같은 다른 내장 객체들을 통해 필요한 기능에 접근하기 때문이죠. 그냥 "아, 현재 페이지의 인스턴스구나" 정도로 이해하고 넘어가도 괜찮습니다.

**설명**: 이 객체는 현재 JSP 페이지의 인스턴스(객체 자체)를 참조합니다. 직접적으로 활용되는 경우는 드물고, 보통 다른 내장 객체들을 통해 필요한 기능에 접근합니다.

```java
<%
    // page 객체의 클래스 이름 출력 (실제 개발에서는 거의 사용하지 않습니다.)
    // 이 코드를 실행하면 현재 JSP 페이지가 어떤 자바 클래스로 변환되었는지 볼 수 있습니다.
    out.println("<p>Current page class: " + page.getClass().getName() + "</p>");
%>
```

---

### exception: `Throwable` 객체

웹 페이지를 사용하다 보면 예상치 못한 오류가 발생할 수 있죠? `exception` 객체는 이렇게 **JSP 페이지에서 오류(예외)가 발생했을 때, 그 오류에 대한 자세한 정보**를 담고 있는 객체예요. 이 객체는 아무 JSP 페이지에서나 사용할 수 있는 것이 아니라, 해당 페이지가 **에러 페이지로 지정(`isErrorPage="true"`)되었을 때만 사용**할 수 있습니다. `exception` 객체를 이용하면 사용자에게 오류가 발생했음을 알리고, 개발자가 오류의 원인을 파악하는 데 필요한 상세 정보를 표시할 수 있습니다.

**예시**: 에러 페이지에서 발생한 예외 정보를 사용자에게 보여줍니다.

**error.jsp (에러 페이지 설정)**

```java
<%-- 이 페이지는 에러를 처리하기 위한 전용 페이지임을 명시합니다. 
     이 속성 덕분에 'exception' 내장 객체를 사용할 수 있게 됩니다. --%>
<%@ page isErrorPage="true" %>
<!DOCTYPE html>
<html>
<head>
    <title>Error Page</title>
</head>
<body>
    <h1>오류가 발생했습니다!</h1>
    <p>오류 메시지: <%= exception.getMessage() %></p> <%-- 발생한 오류의 간단한 메시지 출력 --%>
    <pre>
        <% 
            // exception.printStackTrace()는 오류의 전체 호출 스택을 보여줍니다.
            // 개발자가 오류의 정확한 위치를 파악하는 데 매우 유용합니다.
            // 이 내용을 out 객체를 통해 웹 페이지에 출력합니다.
            exception.printStackTrace(new java.io.PrintWriter(out)); 
        %>
    </pre>
</body>
</html>
```

**somePage.jsp (오류를 발생시킬 페이지)**

```java
<%
    // 이 코드는 고의로 숫자를 0으로 나누어 'ArithmeticException'(산술 오류)을 발생시킵니다.
    int result = 10 / 0; 
%>
<!DOCTYPE html>
<html>
<head>
    <title>Test Page</title>
</head>
<body>
    <p>이 페이지는 오류를 발생시킵니다.</p>
</body>
</html>
```

(참고: `somePage.jsp`에서 오류가 발생했을 때 `error.jsp`로 이동하도록 하려면, `web.xml` 파일에 에러 페이지 설정을 추가해야 합니다.)

**에러 페이지에 관해서는 아래에 더욱 자세히 다룰 예정입니다!**

---

>> 이 9가지 내장 객체 덕분에 개발자들은 웹 애플리케이션을 훨씬 쉽고 효율적으로 만들 수 있습니다. 마치 만능 도구를 가지고 웹 개발을 하는 것과 같죠!

---


## 5. EL (Expression Language)

EL은 JSP 2.0부터 도입된 표현식 언어로, JSP 페이지에서 데이터(주로 내장 객체나 JavaBeans의 속성)를 더욱 간결하고 편리하게 출력할 수 있도록 합니다. 복잡한 Java 코드 없이도 데이터에 쉽게 접근할 수 있어 가독성을 높이고 코드 양을 줄여줍니다.

**형식**: `${표현식}`

**기능**: `request`, `session` 등의 내장 객체나 JavaBeans의 속성에 저장된 값을 출력할 때 사용합니다. `null` 값에 대한 자동 처리 기능이 있어 `NullPointerException`을 방지합니다.

**예시**:

```java
<p>사용자 이름: ${param.userName}</p> <%-- request.getParameter("userName")과 동일 --%>
<p>세션 ID: ${sessionScope.id}</p> <%-- session.getAttribute("id")와 동일 --%>
```

EL은 단순히 값을 출력하는 것을 넘어, 산술 연산, 논리 연산, 비교 연산, 그리고 `empty`와 같은 유용한 연산자를 지원하여 JSP 코드의 스크립트릿 사용을 더욱 줄여줍니다. 예를 들어, `empty` 연산자는 객체가 `null`이거나, 문자열이 비어있거나, 컬렉션이 비어있는지 등을 간편하게 확인할 수 있게 합니다.

---

## 🚨 JSP 에러 처리: 사용자 경험 및 보안 강화를 위한 필수 요소

웹 페이지 사용 중 예상치 못한 복잡한 오류 메시지와 소스 코드가 노출되는 '500 Internal Server Error'와 같은 화면은 사용자에게 불쾌감을 줄 뿐만 아니라, 웹사이트의 신뢰도를 저하시키는 요인이 됩니다. 특히, 자바 코드의 일부가 노출되는 것은 보안상 심각한 취약점을 야기할 수 있습니다.

JSP 페이지에서 이러한 문제를 방지하기 위한 해결책은 크게 두 가지로 분류됩니다.

### 1. `try-catch` 블록을 활용한 코드 내부 예외 처리

자바의 기본적인 예외 처리 메커니즘으로, 예외 발생 가능성이 있는 코드를 `try` 블록 내에 배치하고, 예외 발생 시 `catch` 블록에 정의된 예외 처리 로직을 실행합니다. JSP 스크립트릿 내부에서도 동일하게 적용 가능합니다.

```java
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>try-catch를 통한 에러 처리</title>
</head>
<body>
<%
    // 'age' 파라미터가 누락되거나 숫자가 아닌 값이 전달될 경우를 가정합니다.
    try {
        int myAge = Integer.parseInt(request.getParameter("age")) + 10;
        out.println("<h3>10년 후 당신의 나이는: " + myAge + "세 입니다.</h3>");
    } catch (NumberFormatException e) { // 숫자가 아닌 값 수신 시 발생하는 예외
        out.println("<h3>죄송합니다! 나이는 숫자로 입력해야 해요. 😅</h3>");
    } catch (Exception e) { // 그 외 모든 예외 처리
        out.println("<h3>알 수 없는 오류가 발생했습니다! 다시 시도해 주십시오.</h3>");
    }
%>
</body>
</html>
```

* **장점**: 해당 페이지 내에서 에러를 즉각적으로 처리하고, 필요한 경우 복구 로직을 수행할 수 있습니다.
* **단점**: 모든 예외 발생 가능 코드에 `try-catch`를 개별적으로 적용하는 것은 코드의 가독성을 저하시키고 복잡성을 증가시킬 수 있습니다.

### 2. `errorPage`, `isErrorPage` 속성을 활용한 전역적인 에러 페이지 처리

이 방법은 예외 발생 시 요청을 특정 에러 페이지로 전달하여, 사용자에게 일관되고 전문적인 에러 화면을 제공하는 방식입니다. 실제 서비스 환경에서 광범위하게 활용됩니다.

**errorPage.jsp (에러 처리 전용 페이지)**

```java
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" isErrorPage="true"%> <%-- 이 페이지는 에러 처리를 위한 전용 페이지입니다. --%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>오류 발생 😱</title>
<style>
    body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
    h2 { color: #e74c3c; }
    .error-details { background-color: #f8d7da; border: 1px solid #f5c6cb; color: #721c24; padding: 20px; margin: 20px auto; width: 60%; border-radius: 8px; }
</style>
</head>
<body>
    <h2>서비스에 일시적인 오류가 발생했습니다.</h2>
    <p>불편을 드려 죄송합니다. 잠시 후 다시 시도해 주십시오.</p>

    <div class="error-details">
        <h3>오류 상세 정보 (개발자용)</h3>
        <p><strong>오류명:</strong> <%= exception.getClass().getName() %></p> <%-- 발생한 예외의 클래스명 --%>
        <p><strong>오류 메시지:</strong> <%= exception.getMessage() %></p> <%-- 발생한 예외의 상세 메시지 --%>
    </div>
    <p><a href="/">메인 페이지로 돌아가기</a></p>
</body>
</html>
```

**핵심**: `isErrorPage="true"` 속성은 해당 JSP 페이지에서 `exception`이라는 특별한 내장 객체를 사용할 수 있도록 합니다.

**mainPage.jsp (예외 발생 가능 페이지)**

```java
<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8" errorPage="errorPage.jsp"%> <%-- 예외 발생 시 errorPage.jsp로 이동합니다. --%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>나이 입력 페이지</title>
</head>
<body>
    <h1>귀하의 나이를 입력해 주십시오!</h1>
    <form action="mainPage.jsp" method="get">
        나이: <input type="text" name="age">
        <input type="submit" value="제출">
    </form>
<%
    if (request.getParameter("age") != null && !request.getParameter("age").isEmpty()) {
        int age = Integer.parseInt(request.getParameter("age")); // NumberFormatException 발생 가능성
        out.println("<p>입력하신 나이는: " + age + "세 입니다.</p>");
    } else {
        out.println("<p>나이를 입력해 주십시오.</p>");
    }
%>
</body>
</html>
```

* **장점**: 사용자에게는 보다 전문적이고 일관된 에러 화면을 제공하며, 개발자는 에러 처리 로직을 별도의 페이지로 분리하여 코드 관리가 용이해집니다. 이는 웹사이트의 신뢰도를 향상시키는 데 기여합니다.

---

## 서블릿의 동작과 특징

**서블릿**은 서버 측에서 실행되며 클라이언트의 요청에 따라 동적으로 서비스를 제공하는 자바 클래스입니다. 자바로 작성되었으므로 자바의 일반적인 특징을 모두 가집니다. 일반적으로 자바 프로그램과 다르게 직접 실행되지 않고 톰캣과 같은 JSP/서블릿 컨테이너에서 실행됩니다.

### 서블릿의 동작 과정 도식화:

1.  클라이언트가 웹 서버에 요청을 보냅니다.
2.  웹 서버는 요청에 해당하는 WAS(톰캣)에 위임합니다.
3.  WAS(톰캣)는 해당 요청에 해당하는 서블릿을 실행합니다.
4.  서블릿은 요청에 대한 작업을 수행한 후 결과를 반환하고 클라이언트에게 전송됩니다.

### 서블릿의 특징:

* **서버 측 실행**: 서버 측에서 실행되므로 서버의 자원을 활용하여 복잡한 비즈니스 로직을 수행할 수 있습니다.
* **동적 기능 제공**: 기존의 정적인 웹 프로그램의 한계를 보완하여 사용자 요청에 따라 실시간으로 변화하는 동적인 기능을 제공합니다.
* **자바 기반**: 자바로 만들어져 자바의 객체 지향, 플랫폼 독립성 등의 특징을 모두 가집니다.
* **WAS(Web Application Server) 환경에서 실행**: 웹 브라우저에서 직접 실행되지 않고, Tomcat과 같은 WAS의 제어 하에 실행됩니다.
* **컨테이너 독립성**: 특정 컨테이너에 종속되지 않고 서블릿 표준을 따르는 모든 WAS에서 실행 가능합니다.

### 서블릿 기본 기능 수행 과정:

1.  클라이언트로부터 요청을 받습니다. (`HttpServletRequest` 객체를 통해 요청 정보 접근)
2.  데이터베이스 연동과 같은 비즈니스 로직을 처리합니다. (모델 계층과의 상호작용)
3.  처리된 결과를 클라이언트에게 돌려줍니다. (`HttpServletResponse` 객체를 통해 응답 생성 및 전송)

---

## 서블릿 사용 유무에 따른 웹 개발 방식 비교

웹 애플리케이션을 개발할 때, **서블릿을 사용하는 방식**과 **서블릿을 사용하지 않는 방식**은 아키텍처와 개발 방식에 큰 차이를 보입니다.

| 구분           | 서블릿 사용 시 (JSP/Servlet, Spring MVC)                   | 서블릿 미사용 시 (정적 HTML, CGI 등 원시적 방식)           |
| :------------- | :--------------------------------------------------------- | :--------------------------------------------------------- |
| **개념** | Java 기반의 동적 웹 콘텐츠 생성을 위한 표준 기술 및 프레임워크 활용 | 주로 미리 작성된 정적 콘텐츠 제공 또는 외부 프로그램 연동(CGI)을 통한 원시적 동적 처리 |
| **개발 방식** | Java 코드와 HTML을 혼합하여 동적 페이지 생성 (JSP/Servlet), 또는 MVC 패턴 기반의 체계적인 개발 (Spring MVC) | 미리 작성된 HTML 파일 제공, 또는 요청 시마다 외부 프로그램(Perl, C 등) 실행 (CGI) |
| **주요 특징** | - **생산성**: 프레임워크/라이브러리 지원으로 개발 속도 향상<br>- **확장성**: 모듈화된 개발로 기능 추가 및 유지보수 용이<br>- **유지보수성**: 체계적인 구조로 코드 관리 및 디버깅 편리<br>- **성능**: WAS 내 JVM 기반 효율적인 요청 처리<br>- **보안**: WAS 및 프레임워크 보안 기능 활용 | - **단순성**: 간단한 웹 페이지 구성에 적합<br>- **빠른 로딩**: 정적 파일 직접 제공으로 로딩 속도 빠름<br>- **낮은 오버헤드**: CGI의 경우 요청마다 프로세스 시작으로 오버헤드 발생 가능<br>- **제한적 확장성**: 복잡한 비즈니스 로직 구현에 한계<br>- **낮은 유지보수성**: 코드 복잡성 증가 시 관리 어려움 |
| **적합한 상황** | 복잡한 비즈니스 로직, 사용자 인터랙션이 많은 동적 웹 서비스, 대규모 웹 애플리케이션 및 시스템 | 간단한 정보 제공 웹사이트 (블로그, 포트폴리오 등), 정적 콘텐츠 위주 사이트, 극도로 제한된 자원 환경에서 간단한 동적 처리 (CGI) |
| **주요 기술** | Java, Servlet API, JSP, Spring Framework, Tomcat/Jetty 등 WAS | HTML, CSS, JavaScript, Apache/Nginx 등 웹 서버, Perl, C 등 |
| **예시** | 온라인 쇼핑몰, 은행 시스템, 소셜 미디어, 기업용 ERP 시스템 등 | 개인 블로그 소개 페이지, 간단한 회사 홈페이지 공지사항 등 |

---

이처럼 서블릿을 사용하는 방식이 현대의 복잡하고 동적인 웹 애플리케이션 개발에 훨씬 더 적합하며, 서블릿 미사용 방식은 특정 목적의 간단한 웹 페이지나 레거시 시스템에서 주로 활용됩니다.

---

## 서블릿 요청 및 응답 수행 API 기능:

요청이나 응답과 관련된 API는 `jakarta.servlet.http` (또는 이전 버전의 `javax.servlet.http`) 패키지에 있습니다.

* **요청과 관련된 API**: `jakarta.servlet.http.HttpServletRequest` 클래스
* **응답과 관련된 API**: `jakarta.servlet.http.HttpServletResponse` 클래스

### **`HttpServletRequest`의 주요 메서드:**

---

| 반환형        | 메서드 이름        | 기능                                          |
| :---------- | :---------------- | :-------------------------------------------- |
| `String`    | `getContextPath()` | 클라이언트가 컨텍스트를 가리키는 URI를 반환합니다. |
| `Cookie[]`  | `getCookies()`     | 클라이언트가 현재 요청과 함께 보낸 쿠키 객체 배열을 반환합니다. |
| `String`    | `getMethod()`      | 현재 요청이 어떤 HTTP 방식인지 반환합니다.    |
| `String`    | `getRequestURI()`  | 현재 요청 경로를 반환합니다.                 |
| `String`    | `getRequestURL()`  | 요청한 URI의 컨텍스트, 경로, 파일 경로까지 반환합니다. |
| `String`    | `getServletPath()` | 요청한 URL에서 서블릿이나 JSP 이름을 반환합니다. |
| `HttpSession` | `getSession()`     | 현재 요청과 연관된 세션을 반환합니다.         |

---                                                                                                                                                                                                                                                                                          

### 📝 마치며

본 문서에서는 JSP의 기본 개념과 더불어 동적 웹 페이지 생성에 필수적인 **내장 객체**, 간결한 데이터 표현을 위한 **EL(Expression Language)**, 그리고 안정적인 서비스 운영을 위한 **에러 처리 기법**을 심층적으로 다루었습니다. 또한, JSP의 근간이 되는 **서블릿과의 관계, 서블릿의 동작 방식 및 주요 API**에 대해서도 상세히 살펴보았어요.

특히, `page` 지시어의 `isErrorPage` 속성을 활용한 전역적인 에러 처리와 `exception` 내장 객체는 실제 웹 개발 환경에서 매우 중요한 요소이므로, 이에 대한 이해는 필수적이에요. 이 모든 내용들이 JSP 기반 웹 애플리케이션 개발의 핵심 기초 지식을 제공하며, 웹 애플리케이션의 생산성, 안정성, 유지보수성을 높이는 데 기여할 것입니다.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       
