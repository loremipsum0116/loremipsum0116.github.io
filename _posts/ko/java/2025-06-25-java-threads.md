---
title: "자바 쓰레드: 프로그램, 프로세스 그리고 동시성"
date: 2025-06-25 15:00:21 +09:00 
categories: [java]
lang: ko 
locale: ko 
words_per_minute: 30
---

## 자바 쓰레드: 프로그램, 프로세스 그리고 동시성

현대 소프트웨어는 대부분 여러 작업을 동시에 처리할 수 있는 능력을 요구합니다. 웹 브라우저에서 여러 탭을 열고 동시에 사용할 수 있거나, 워드 프로세서에서 문서를 편집하면서 동시에 맞춤법 검사를 수행하는 것 등이 그 예시입니다. 이러한 동시성(Concurrency) 또는 병렬성(Parallelism)을 구현하는 데 핵심적인 역할을 하는 것이 바로 **쓰레드(Thread)** 입니다.

이번 글에서는 프로그램이 실행되기까지의 과정을 **프로그램**, **프로세스**, 그리고 **쓰레드**의 개념을 통해 이해하고, 자바 환경에서의 쓰레드 동작 방식과 **멀티 쓰레드**의 필요성에 대해 자세히 알아보겠습니다. 또한, 여러 쓰레드가 공유 자원에 접근할 때 발생할 수 있는 문제점을 해결하기 위한 **쓰레드 동기화** 기법까지 심도 있게 다룰 것입니다.

-----

## 프로그램, 프로세스, 쓰레드의 개념

소프트웨어는 단순히 코드가 아니라, 컴퓨터 하드웨어와 상호작용하며 동작하는 복잡한 체계입니다. 이 관계를 이해하려면 '프로그램', '프로세스', '쓰레드' 세 가지 핵심 개념을 알아야 합니다.

### ✅ 프로그램과 프로세스의 개념

컴퓨터의 주요 하드웨어인 \*\*CPU(중앙처리장치)\*\*와 **하드디스크**는 역할과 속도 면에서 큰 차이를 보입니다.

  * **CPU**: 연산을 수행하며 실제 프로그램을 실행하는 장치로, 가장 빠른 속도로 동작합니다.
  * **하드디스크**: 데이터의 저장 역할을 수행하며, CPU에 비해 상대적으로 낮은 속도로 동작합니다.

CPU와 하드디스크는 엄청난 속도 차이 때문에 직접적으로 효율적인 대화가 어렵습니다. 이 간극을 메우는 것이 바로 **메모리**의 역할입니다. 메모리는 CPU보다 느리지만, 거의 근접한 속도로 데이터를 주고받을 수 있습니다.

실제 하드디스크에 저장된 프로그램이 실행되기 위해서는 먼저 프로그램을 메모리로 로딩하는 과정을 거쳐야 합니다. 이 과정이 완료되면 프로그램은 **프로세스** 상태가 됩니다.

**정리:**

  * **프로그램**: 하드디스크에 저장된 **파일의 모임** (예: `.exe` 파일, `.jar` 파일). 아직 실행되지 않은 상태의 코드와 데이터.
  * **프로세스**: 메모리상에 **로딩되어 실행 대기 또는 실행 중인 프로그램**의 인스턴스. 운영체제로부터 독립적인 메모리 공간과 자원(CPU 시간, 파일 등)을 할당받습니다.

### ✅ 쓰레드의 개념

진정으로 CPU를 사용하여 실제 연산을 수행하는 것은 **프로세스 내부의 쓰레드**입니다.

  * 모든 프로세스는 최소한 1개의 쓰레드를 가집니다.
  * **쓰레드**: 프로세스 내에서 CPU를 사용하는 **최소 실행 단위**입니다. 하나의 프로세스는 여러 개의 쓰레드를 가질 수 있으며, 이 쓰레드들은 프로세스의 자원(메모리 등)을 공유합니다.

-----

## 자바 프로그램에서의 쓰레드

자바로 작성된 프로그램을 실행하면, 해당 `.class` 파일은 JVM(Java Virtual Machine)에 의해 메모리로 로딩되어 하나의 프로세스 상태가 됩니다.

  * `.class` 파일을 실행하면 JVM은 자동으로 **main 쓰레드**를 생성합니다.
  * 우리가 `main()` 메소드에 작성한 모든 코드는 바로 이 `main` 쓰레드에서 동작합니다.

### ✅ 멀티 쓰레드의 필요성

멀티 쓰레드는 **2개 이상의 작업을 동시에 수행**하기 위해 필요합니다.

**단일 쓰레드 처리:**

  * 멀티 쓰레드를 사용하지 않을 때, 즉 단일 쓰레드로 2개의 작업을 처리할 경우, 각 작업은 **순차적으로 처리**됩니다.
  * 먼저 시작된 작업이 완전히 종료된 이후에야 두 번째 작업이 실행됩니다. 이는 작업 완료까지의 총 시간이 길어지고, 응답성이 떨어질 수 있습니다.

**멀티 쓰레드의 동시성(Concurrency)과 병렬성(Parallelism):**

  * **동시성 (Concurrency)**: 처리할 작업의 수가 CPU의 코어 수보다 많을 때 발생합니다. 이때 CPU는 각 작업 쓰레드의 요청 작업을 매우 짧은 간격으로 **번갈아가면서(Context Switching)** 실행합니다. 사용자 입장에서는 두 작업이 마치 동시에 실행되는 것처럼 보입니다. 정확히 이야기하면, 두 작업이 동시에 실행되는 것이 아니라 동시에 실행되는 것처럼 보이도록 하는 방식입니다.
  * **병렬성 (Parallelism)**: CPU의 코어 수가 작업 수보다 많을 때는 각각의 작업을 각각의 코어에 할당하여 **실제로 동시에 실행**할 수 있습니다. 이를 병렬성이라고 합니다.

**예시:**

  * 만약 작업 수가 6개이고, CPU 코어가 2개라면?
      * 쓰레드의 **동시성과 병렬성**이 함께 작용합니다.
      * 작업은 2개의 코어에 나뉘어 할당되고(병렬성), 각각의 코어는 할당된 작업들을 번갈아 실행합니다(동시성).

**멀티 쓰레드의 궁극적인 목적은 병렬성과 동시성을 활용하여 여러 작업을 실제로 동시에 실행하거나, 동시에 실행하는 것처럼 보이게 하여 시스템의 효율성과 응답성을 높이는 것입니다.**

-----

## 쓰레드의 동기화

여러 쓰레드가 동시에 동작할 때, 공통된 자원(데이터, 파일 등)에 접근하게 되면 예상치 못한 문제가 발생할 수 있습니다. 이를 해결하기 위해 \*\*동기화(Synchronization)\*\*가 필요합니다.

### ✅ 동기화의 개념

**동기화**: 여러 쓰레드가 동시에 **공유 자원**에 접근할 때 데이터의 일관성과 무결성을 보장하기 위해, 한 번에 하나의 쓰레드만 공유 자원(임계 영역)에 접근하도록 **접근을 제어하는 것**입니다.

  * **↔ 비동기**: 하나의 작업 명령 이후 완료 여부와 상관없이 바로 다른 작업 명령을 수행하는 것을 의미합니다.

### ✅ 동기화의 필요성

여러 쓰레드가 동시에 같은 데이터(공유 자원)에 접근하여 값을 변경할 경우, 쓰레드 스케줄링 순서에 따라 \*\*예상치 못한 결과(데이터 불일치)\*\*가 나올 수 있습니다.
이를 방지하기 위해 **한 쓰레드가 공유 객체를 모두 사용해야만 다음 쓰레드가 해당 객체를 사용할 수 있도록 설정**하는 것이 동기화의 목적입니다.

### ✅ 동기화 방법

자바에서 쓰레드를 동기화하는 대표적인 방법은 `synchronized` 키워드를 사용하는 것입니다.

1.  **메서드 동기화 (Synchronized Method)**:

      * 메소드의 리턴 타입 앞에 `synchronized` 키워드를 붙이면 됩니다.
      * 해당 메소드가 호출되면, 메소드를 포함하는 객체의 잠금(lock)을 얻게 되므로, 이 메소드가 실행되는 동안 다른 쓰레드는 같은 객체의 `synchronized` 메소드에 접근할 수 없습니다.

    <!-- end list -->

    ```java
    public class SynchronizedExample {
        private int count = 0;

        // 메소드 전체를 동기화
        public synchronized void increment() {
            count++;
            System.out.println(Thread.currentThread().getName() + ": " + count);
        }

        public int getCount() {
            return count;
        }

        public static void main(String[] args) {
            SynchronizedExample obj = new SynchronizedExample();

            Runnable task = () -> {
                for (int i = 0; i < 5; i++) {
                    obj.increment();
                }
            };

            Thread thread1 = new Thread(task, "쓰레드-1");
            Thread thread2 = new Thread(task, "쓰레드-2");

            thread1.start();
            thread2.start();
        }
    }
    ```

2.  **블록 동기화 (Synchronized Block)**:

      * 메소드 전체가 아니라 메소드 내의 특정 코드 블록만 동기화가 필요한 경우에 사용합니다.
      * `synchronized(this)` 또는 `synchronized(someObject)` 형태로 사용하며, 괄호 안에는 잠금을 얻을 객체(모니터)를 지정합니다. `this`는 현재 객체를 의미합니다.

    <!-- end list -->

    ```java
    public class SynchronizedBlockExample {
        private int count = 0;
        private final Object lock = new Object(); // 동기화에 사용할 객체

        public void increment() {
            // 특정 블록만 동기화
            synchronized (lock) { // 'lock' 객체의 잠금을 얻음
                count++;
                System.out.println(Thread.currentThread().getName() + ": " + count);
            }
            // 이 블록 밖의 코드는 동기화되지 않음
        }

        public int getCount() {
            return count;
        }

        public static void main(String[] args) {
            SynchronizedBlockExample obj = new SynchronizedBlockExample();

            Runnable task = () -> {
                for (int i = 0; i < 5; i++) {
                    obj.increment();
                }
            };

            Thread thread1 = new Thread(task, "쓰레드-A");
            Thread thread2 = new Thread(task, "쓰레드-B");

            thread1.start();
            thread2.start();
        }
    }
    ```

**쓰레드란?**
결론적으로, 쓰레드는 애플리케이션이 실행하는 독립적이고 순차적인 명령어들의 집합입니다. 모든 프로세스는 동시에 실행될 수 있는 다수의 쓰레드를 가질 수 있으며, 이는 앱에서 여러 태스크를 병렬로 실행할 수 있게 하여 동시성을 다루는 프로그래밍 언어에서 필수적인 구성 요소입니다.

-----

### 📌 요약 정리: 자바 쓰레드

| 요소 | 설명 |
|---|---|
| **프로그램** | 하드디스크에 저장된 코드와 데이터의 집합. 실행되기 전의 상태. |
| **프로세스** | 메모리에 로딩되어 실행 중인 프로그램의 인스턴스. 운영체제로부터 독립적인 자원 할당. |
| **쓰레드** | 프로세스 내에서 CPU를 사용하는 **최소 실행 단위**. 프로세스의 자원을 공유하며, 모든 프로세스는 최소 1개의 쓰레드를 가짐. |
| **main 쓰레드** | 자바 프로그램 실행 시 JVM에 의해 자동 생성되며, `main()` 메소드 코드를 실행. |
| **멀티 쓰레드** | 2개 이상의 쓰레드를 동시에(또는 동시에처럼 보이게) 실행하여 작업 효율성과 응답성을 높이는 기법. |
| **동시성 (Concurrency)** | 여러 작업이 짧은 시간 간격으로 번갈아 실행되며 동시에 실행되는 것처럼 보이는 것. (단일 코어에서 여러 작업) |
| **병렬성 (Parallelism)** | 여러 작업이 실제로 동시에 실행되는 것. (멀티 코어에서 각 코어에 작업 할당) |
| **쓰레드 동기화** | 여러 쓰레드가 공유 자원에 동시에 접근할 때 데이터 일관성/무결성 보장을 위해 접근을 제어하는 것. |
| **동기화 방법** | `synchronized` 키워드를 사용한 **메소드 동기화** 또는 **블록 동기화**. \<br\> (메소드 전체 잠금 vs 특정 코드 블록만 잠금) |

-----

### 💡 쓰레드 개념 퀴즈

다음 상황을 읽고, 설명에 해당하는 개념이 무엇인지 맞춰보세요.

"사용자가 웹 브라우저에서 유튜브 영상을 시청하면서 동시에 다른 탭에서 뉴스 기사를 스크롤하고 있습니다. 이 두 가지 활동이 겉보기에는 동시에 이루어지는 것처럼 보이지만, 실제 CPU 코어는 하나뿐이어서 매우 빠르게 두 작업을 번갈아가며 처리하고 있습니다."

이 설명은 쓰레드의 어떤 특성을 가장 잘 나타내는 것일까요?

<details>
<summary>정답 보기<summary>
<br>
정답은: 동시성 (Concurrency)
<br>
설명:<br>
이 시나리오는 단일 CPU 코어가 여러 작업을 빠르게 전환하며 처리함으로써, 사용자에게는 마치 여러 작업이 동시에 진행되는 것처럼 보이는 현상을 설명하고 있습니다. 이는 멀티 쓰레딩의 핵심 이점 중 하나인 동시성을 잘 보여주는 예시입니다. 병렬성은 여러 코어가 실제로 동시에 작업을 처리하는 상황을 의미합니다.
<details>

-----

### 🔚 마치며: 동시성 프로그래밍의 이해

이번 글에서는 자바 프로그래밍에서 매우 중요한 개념인 **쓰레드**에 대해 깊이 있게 다루었습니다. 프로그램이 프로세스가 되고, 그 안에 쓰레드가 실제 실행의 최소 단위가 되는 과정을 이해하는 것은 운영체제와 자바 애플리케이션의 동작 방식을 이해하는 데 필수적입니다. 또한, 멀티 쓰레드가 어떻게 동시성과 병렬성을 활용하여 시스템의 효율성을 높이는지, 그리고 공유 자원 접근 시 발생할 수 있는 문제를 해결하기 위한 **동기화**의 중요성과 방법에 대해서도 살펴보았습니다.

멀티 쓰레딩은 복잡성을 증가시킬 수 있지만, 잘 활용하면 애플리케이션의 성능과 사용자 경험을 크게 향상시킬 수 있습니다. 
