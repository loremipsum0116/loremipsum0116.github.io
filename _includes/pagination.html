{% assign base_url = "/ko/categories/java" %}

{% if paginator.total_pages > 1 %}
<nav class="pagination" role="navigation" style="margin-top: 2rem; text-align: center;">

  <!-- 기술 인덱스로 버튼 (상단 독립 배치) -->
  <div style="margin-bottom: 1rem;">
    <a href="/ko/" class="btn btn--primary" style="padding: 0.5rem 1rem; font-size: 1rem; border-radius: 6px; background-color: #007acc; color: white; text-decoration: none;">
      기술 인덱스로
    </a>
  </div>

  <!-- 페이지네이션 숫자 버튼 -->
  <ul class="pagination__list" style="display: inline-flex; list-style: none; padding-left: 0; gap: 0.5rem; flex-wrap: wrap; justify-content: center;">

    {% if paginator.previous_page %}
      <li>
        <a href="{{ paginator.previous_page_path | relative_url }}" class="pagination__prev"
           style="padding: 0.5rem 0.75rem; border: 1px solid #ccc; border-radius: 5px;">← 이전</a>
      </li>
    {% endif %}

    {% for page in (1..paginator.total_pages) %}
      {% assign target_url = base_url %}
      {% if page > 1 %}
        {% assign target_url = base_url | append: "/page" | append: page | append: "/" %}
      {% endif %}

      {% if page == paginator.page %}
        <li>
          <span class="pagination__page pagination__page--current"
                style="padding: 0.5rem 0.75rem; background-color: #007acc; color: white; border-radius: 5px;">
            {{ page }}
          </span>
        </li>
      {% else %}
        <li>
          <a href="{{ target_url | relative_url }}" class="pagination__page"
             style="padding: 0.5rem 0.75rem; border: 1px solid #ccc; border-radius: 5px;">
            {{ page }}
          </a>
        </li>
      {% endif %}
    {% endfor %}

    {% if paginator.next_page %}
      <li>
        <a href="{{ paginator.next_page_path | relative_url }}" class="pagination__next"
           style="padding: 0.5rem 0.75rem; border: 1px solid #ccc; border-radius: 5px;">다음 →</a>
      </li>
    {% endif %}

  </ul>
</nav>
{% endif %}
