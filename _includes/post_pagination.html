{% if paginator.total_pages > 1 %}
<nav class="pagination" role="navigation">

  {% assign current_page = paginator.page %}
  {% assign total_pages = paginator.total_pages %}

  <div class="pagination--container" style="text-align: center;">

    {# 이전 버튼 - 정상 작동하는 로직 #}
    {% if paginator.previous_page %}
      <a class="pagination--prev" href="{{ paginator.previous_page_path | relative_url }}">&laquo; 이전</a>
    {% endif %}

    {# 페이지 번호 - 변경된 로직 #}
    {% for i in (1..total_pages) %}
      {% assign page_url_template = site.baseurl | append: '/ko/categories/' | append: page.category | append: '/page:num/' %}

      {% if i == 1 %}
        {# 첫 페이지는 /page1/ 없이 루트 경로로 #}
        {% assign final_page_url = site.baseurl | append: '/ko/categories/' | append: page.category | append: '/' %}
      {% else %}
        {% assign final_page_url = page_url_template | replace: ':num', i %}
      {% endif %}

      <a class="pagination--page" href="{{ final_page_url | relative_url }}">{{ i }}</a>
    {% endfor %}

    {# 다음 버튼 - 정상 작동하는 로직 #}
    {% if paginator.next_page %}
      <a class="pagination--next" href="{{ paginator.next_page_path | relative_url }}">다음 &raquo;</a>
    {% endif %}

  </div>

</nav>
{% endif %}